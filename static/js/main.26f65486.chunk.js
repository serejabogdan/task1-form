(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{270:function(e,t,n){},313:function(e,t){},315:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(37),s=n.n(c),o=n(21),i=n(36),u=n(320),l=n(19),d=n(2);var b,j=function(){return Object(d.jsx)("div",{children:"Sign up"})},p=n(329),O=n(151),x=n(14),h={META:"".concat(b="@sign-in/","META"),CLEAR:"".concat(b,"/CLEAR"),SIGN_IN:"".concat(b,"SIGN_IN")},f={initialValues:{client:"admin_application"},initialized:!1,errorMessage:"",disabled:!1};function m(e){return e.root.pages.public.signin}var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case h.META:return Object(x.a)(Object(x.a)({},e),a);case h.CLEAR:return f;default:return e}},v=n(1),y=n.n(v),T=n(316),A=n(328),g=Object(a.memo)((function(e){var t=e.children,n=e.onSubmit,a=e.handleSubmit,r=e.className,c=e.autoComplete;return Object(d.jsx)(T.a,{className:r,autoComplete:c,onSubmit:a(n),children:t})}));g.propTypes={className:y.a.string,autoComplete:y.a.string,initialValues:y.a.object,form:y.a.string.isRequired,onSubmit:y.a.func.isRequired,children:y.a.node.isRequired,handleSubmit:y.a.func.isRequired},g.defaultProps={className:null,autoComplete:"off",initialValues:{}};var N=Object(A.a)({})(g),k=n(317),C=n(318),S=n(319);var w=function(e){var t=e.input,n=e.type,a=e.id,r=e.meta,c=e.disabled;return Object(d.jsxs)(k.a,{children:[Object(d.jsx)(C.a,{for:a,children:a}),Object(d.jsx)(S.a,Object(x.a)({disabled:c,name:a,type:n,id:a,placeholder:a},t)),r.touched&&r.error&&Object(d.jsx)("span",{children:r.error})]})};n(266);function I(e){var t,n={};return e.username?e.username.length>30?n.username="Maximum ".concat(30," characters"):(t=e.username,/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t)||(n.username="It is not an email")):n.username="Username must be required",e.password?e.password.length>30&&(n.password="Maximum ".concat(30," characters")):n.password="Password must be required",n}var R=function(){var e=Object(o.e)(m),t=Object(o.d)();return Object(d.jsxs)("div",{style:{minHeight:"100vh"},className:"d-flex flex-column justify-content-center align-items-center",children:[Object(d.jsx)("h1",{children:"Public form"}),Object(d.jsxs)(N,{form:"SignInForm",onSubmit:function(e){t({type:h.SIGN_IN,payload:e})},validate:I,initialValues:e.initialValues,children:[Object(d.jsx)(p.a,{type:"text",disabled:e.disabled,name:"username",id:"username",component:w}),Object(d.jsx)(p.a,{type:"password",disabled:e.disabled,name:"password",id:"password",component:w}),Object(d.jsx)(O.a,{disabled:e.disabled,children:"Go!"})]}),e.disabled&&Object(d.jsxs)("div",{children:[Object(d.jsx)(u.a,{color:"primary"})," authorization"]})]})},_="/public",L="".concat(_,"/sign-in"),M="".concat(_,"/sign-up"),D="/private",U="".concat(D,"/user"),P="".concat(D,"/users"),z="".concat(D,"/homepage");var K=function(){return Object(d.jsxs)(l.d,{children:[Object(d.jsx)(l.b,{path:L,component:R}),Object(d.jsx)(l.b,{path:M,component:j}),Object(d.jsx)(l.a,{to:L})]})},H=n(321),F=n(322),G=n(16),Z=function(e){return{META:"".concat(e,"META"),CLEAR:"".concat(e,"CLEAR"),INITIALIZE:"".concat(e,"INITIALIZE"),USER_SELECTED:"".concat(e,"USER_SELECTED"),USERS_SELECTED:"".concat(e,"USERS_SELECTED"),UPDATE_FILTERS:"".concat(e,"UPDATE_FILTERS")}}("@users/"),V={page:0,size:10,name:"",roles:[],sort:"",disabled:!1,errorMessage:"",initialized:!1,hasAllUsersChecked:!1,isActionsDropdownDisabled:!0,data:{content:[],size:0,offset:0,totalPages:0,pageNumbers:0,totalElements:0}};function q(e){return e.root.pages.private.users}var B=function(e){return{META:"".concat(e,"META"),CLEAR:"".concat(e,"CLEAR"),LOGOUT:"".concat(e,"LOGOUT"),VALID_TOKEN:"".concat(e,"VALID_TOKEN")}}("@private/"),J={initialized:!1,errorMessage:"",disabled:!1};function W(e){return e.root.pages.private.state}var X=Object(G.combineReducers)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Z.META:return Object(x.a)(Object(x.a)({},e),a);case Z.CLEAR:return Object(x.a)(Object(x.a)({},V),{},{initialized:!0});default:return e}},state:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case B.META:return Object(x.a)(Object(x.a)({},e),a);case B.CLEAR:return J;default:return e}}});var Y=function(e){var t=e.user,n=Object(o.d)();return Object(d.jsxs)("div",{style:{maxWidth:"700px",margin:"0 auto"},children:[Object(d.jsxs)(H.a,{children:[Object(d.jsxs)(F.a,{children:["id: ",t.id]}),Object(d.jsxs)(F.a,{children:["name: ",t.name]}),Object(d.jsx)(F.a,{children:Object(d.jsx)("img",{src:t.coverImage.url,alt:"Here is should be user"})})]}),Object(d.jsx)(O.a,{color:"primary",onClick:function(){n({type:B.LOGOUT})},children:"LogOut"})]})},$=n(78),Q=n(152),ee=n.n(Q),te=n(156),ne=n(157),ae=n(45),re=n(76),ce=n(75),se=n(323),oe=n(331),ie=n(324),ue=n(332),le=n(333),de=n(325),be=n(326),je=n(327),pe=(n(270),n(271),[{value:"USER",label:"USER"},{value:"CHEF",label:"CHEF"},{value:"SUPER_ADMIN",label:"SUPER_ADMIN"},{value:"NUTRITIONIST",label:"NUTRITIONIST"},{value:"TALENT_ADMIN",label:"TALENT_ADMIN"},{value:"DATABASE_MANAGER",label:"DATABASE_MANAGER"}]),Oe=[10,15,30];function xe(){var e=Object(o.e)(q),t=e.data,n=e.size,r=e.page,c=e.name,s=e.initialized,i=e.hasAllUsersChecked,l=e.isActionsDropdownDisabled,b=Object(o.d)(),j=Object(a.useState)(!1),p=Object($.a)(j,2),h=p[0],f=p[1],m=Object(a.useState)(!1),E=Object($.a)(m,2),v=E[0],y=E[1],T=Object(a.useMemo)((function(){return Array.isArray(t.content)?t.content.map((function(e){var t="string"===typeof e.createdDate?ee()(e.createdDate):"",n=Array.isArray(e.roles)?e.roles:[];return Object(x.a)(Object(x.a)({},e),{},{createdDate:t,roles:n,onSelect:function(){return b({type:Z.USER_SELECTED,payload:{userId:e.id}})}})})):[]}),[t.content,b]),A=Object(a.useCallback)((function(e){return b({type:Z.UPDATE_FILTERS,payload:{page:e-1}})}),[b]),g=Object(a.useCallback)((function(){return f((function(e){return!e}))}),[f]),N=Object(a.useCallback)((function(){return y((function(e){return!e}))}),[y]),k=Object(a.useCallback)((function(e){return b({type:Z.META,payload:{name:e.target.value}})}),[b]),C=Object(a.useCallback)((function(){return b({type:Z.UPDATE_FILTERS,payload:{name:""}})}),[b]),w=Object(a.useCallback)((function(){return b({type:Z.UPDATE_FILTERS,payload:{page:0}})}),[b]),I=Object(a.useCallback)((function(e){"Enter"===e.key&&w()}),[w]),R=Object(a.useCallback)((function(){return b({type:Z.USERS_SELECTED})}),[b]),_=Object(a.useCallback)((function(e){var t=e?[e.value]:[];b({type:Z.UPDATE_FILTERS,payload:{page:0,roles:t}})}),[b]);Object(a.useEffect)((function(){return b({type:Z.INITIALIZE}),function(){console.log("users is destructured")}}),[b]);var L=Object(a.useMemo)((function(){return Object(d.jsx)(ce.a,{icon:re.a,className:"text-gray"})}),[]),M=Object(a.useMemo)((function(){return Object(d.jsx)(ce.a,{icon:re.c,className:"text-gray-d"})}),[]),D=Object(a.useMemo)((function(){return Object(d.jsx)(ce.a,{icon:re.b,className:"text-gray-d"})}),[]),U=Object(a.useState)({direction:!0,name:""}),P=Object($.a)(U,2),z=P[0],K=P[1],H=Object(a.useCallback)((function(e){return z.name!==e?L:z.direction?D:M}),[L,D,M,z.direction,z.name]);function F(e){K((function(t){return t.name===e?(b({type:Z.UPDATE_FILTERS,payload:{sort:"".concat(e,",").concat(t.direction?"DESC":"ASC")}}),Object(x.a)(Object(x.a)({},t),{},{direction:!t.direction})):(b({type:Z.UPDATE_FILTERS,payload:{sort:"".concat(e,",ASC")}}),{name:e,direction:!0})}))}return s?Object(d.jsxs)("div",{className:"content d-flex flex-column overflow-hidden vh-100",children:[Object(d.jsxs)("div",{className:"container-fluid",children:[Object(d.jsx)("h2",{className:"pt-3 text-primary",children:"Users"}),Object(d.jsx)("hr",{className:"row"}),Object(d.jsxs)("div",{className:"row mb-3",children:[Object(d.jsx)("div",{className:"search col-4",children:Object(d.jsxs)(se.a,{children:[c&&Object(d.jsx)(oe.a,{addonType:"prepend",onClick:C,children:Object(d.jsx)(O.a,{color:"primary",children:"X"})}),Object(d.jsx)(S.a,{placeholder:"Search",value:c,onChange:k,onKeyPress:I}),Object(d.jsx)(oe.a,{addonType:"append",children:Object(d.jsx)(O.a,{color:"primary",onClick:w,children:"Search"})})]})}),Object(d.jsx)("div",{className:"dropdown col-1",children:Object(d.jsxs)(ie.a,{color:"primary",group:!0,isOpen:h,toggle:g,children:[Object(d.jsx)(ue.a,{caret:!0,color:"secondary",children:n}),Object(d.jsx)(le.a,{children:Oe.map((function(e){return Object(d.jsxs)(de.a,{onClick:function(){return function(e){return b({type:Z.UPDATE_FILTERS,payload:{page:0,size:e}})}(e)},children:[e," items"]},e)}))})]})}),Object(d.jsx)("div",{className:"role col-3",children:Object(d.jsx)(te.a,{isClearable:!0,onChange:_,options:pe,placeholder:"Roles"})}),Object(d.jsxs)("div",{className:"d-flex justify-content-end col-4",children:[Object(d.jsxs)(ie.a,{group:!0,isOpen:v,toggle:N,children:[Object(d.jsx)(ue.a,{caret:!0,color:"secondary",disabled:l,children:"List actions"}),Object(d.jsx)(le.a,{children:Object(d.jsx)(de.a,{disabled:l,children:"Delete"})})]}),Object(d.jsx)(ae.a,{to:"#",className:"mx-2 btn btn-success",children:"Create User"})]})]}),Object(d.jsx)("div",{className:"table-header",children:Object(d.jsx)(be.a,{children:Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{className:"col-4",children:Object(d.jsxs)("div",{className:"d-flex align-items-center",children:[Object(d.jsx)("div",{className:"check d-inline-block custom-checkbox custom-control",children:Object(d.jsx)(S.a,{type:"checkbox",checked:i,readOnly:!0,onChange:R})}),Object(d.jsxs)("button",{className:"text-nowrap btn btn-outline-link",onClick:function(){return F("name")},children:[H("name")," ",Object(d.jsx)("strong",{className:"text-primary",children:"Name"})]})]})}),Object(d.jsx)("th",{className:"col-1",children:Object(d.jsxs)("button",{className:"text-nowrap btn btn-outline-link",onClick:function(){return F("id")},children:[H("id")," ",Object(d.jsx)("strong",{className:"text-primary",children:"id"})]})}),Object(d.jsx)("th",{className:"col-2",children:Object(d.jsx)("button",{className:"text-nowrap btn btn-outline-link",disabled:!0,children:"Roles"})}),Object(d.jsx)("th",{className:"col-2",children:Object(d.jsxs)("button",{className:"text-nowrap btn btn-outline-link",onClick:function(){return F("createdDate")},children:[H("createdDate")," ",Object(d.jsx)("strong",{className:"text-primary",children:"Creation Date"})]})}),Object(d.jsx)("th",{className:"col-1",children:Object(d.jsx)("button",{className:"text-nowrap btn btn-outline-link",children:Object(d.jsx)("strong",{className:"text-primary",children:"Actions"})})})]})})})}),Object(d.jsx)("div",{className:"mb-3",style:{position:"relative",overflow:"hidden",height:"60vh"},children:Object(d.jsx)("div",{style:{position:"absolute",overflowY:"scroll",inset:"0px",marginRight:"-17px"},children:Object(d.jsx)(be.a,{striped:!0,bordered:!0,children:Object(d.jsx)("tbody",{children:T.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{className:"col-4",children:Object(d.jsxs)("div",{className:"d-flex align-items-center",children:[Object(d.jsx)("div",{className:"check d-inline-block custom-checkbox custom-control",children:Object(d.jsx)(S.a,{type:"checkbox",checked:e.checked,readOnly:!0,onChange:e.onSelect})}),Object(d.jsx)(ae.a,{to:"#",className:"btn btn-link",children:e.name?e.name:"Undefined Name"})]})}),Object(d.jsx)("td",{className:"col-1",children:e.id}),Object(d.jsx)("td",{className:"col-2",children:e.roles.map((function(e){return Object(d.jsxs)(je.a,{className:"bg-danger mr-1",children:[e.name," "]},e.id)}))}),Object(d.jsx)("td",{className:"col-2",children:e.createdDate.format("L")}),Object(d.jsxs)("td",{className:"col-1",children:[Object(d.jsx)(ae.a,{to:"#",className:"p-1 btn btn-link btn-sm",children:"Edit"})," / ",Object(d.jsx)("button",{className:"p-1 btn btn-link btn-sm",children:"Delete"})]})]},e.id)}))})})})})]}),Object(d.jsx)("div",{className:"pagination mb-3",style:{margin:"0 auto"},children:Object(d.jsx)(ne.a,{onChange:A,current:r+1,defaultCurrent:1,total:t.totalElements,pageSize:n})})]}):Object(d.jsxs)("div",{children:[Object(d.jsx)(u.a,{color:"primary"}),"users"]})}var he=r.a.memo(xe);var fe=function(){return Object(d.jsx)("div",{children:"Homepage"})},me=Object(G.combineReducers)({signin:E,signup:{}}),Ee="token";function ve(e){return JSON.parse(localStorage.getItem(e))}function ye(e,t){return localStorage.setItem(e,JSON.stringify(t))}function Te(e){return localStorage.removeItem(e)}var Ae=function(e){return{META:"".concat(e,"META"),CLEAR:"".concat(e,"CLEAR"),INITIALIZE:"".concat(e,"INITIALIZE"),UPDATE_TOKEN:"".concat(e,"UPDATE_TOKEN"),CHECK_ACCESS_TOKEN:"".concat(e,"CHECK_ACCESS_TOKEN"),STOP_REFRESHING_TOKEN:"".concat(e,"STOP_REFRESHING_TOKEN"),AUTH:"".concat(e,"AUTH")}}("@pages/"),ge={auth:!1,user:"",token:ve(Ee)||"",initialized:!1,errorMessage:"",disabled:!1};function Ne(e){return e.root.pagesData}var ke=Object(G.combineReducers)({public:me,private:X}),Ce=Object(G.combineReducers)({pagesData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Ae.META:return Object(x.a)(Object(x.a)({},e),a);case Ae.CLEAR:return Object(x.a)(Object(x.a)({},ge),{},{initialized:!0});default:return e}},pages:ke});var Se=function(){var e=Object(o.e)(Ne),t=e.user,n=e.auth,r=Object(o.e)(W).initialized,c=Object(o.d)();return Object(a.useEffect)((function(){c({type:Ae.AUTH})}),[c]),r?n&&Object(d.jsxs)(l.d,{children:[Object(d.jsx)(l.b,{path:P,component:he}),Object(d.jsx)(l.b,{path:U,render:function(){return Object(d.jsx)(Y,{user:t})}}),Object(d.jsx)(l.b,{path:z,component:function(){return Object(d.jsx)(fe,{user:t})}}),Object(d.jsx)(l.a,{to:P})]}):Object(d.jsxs)("div",{children:[Object(d.jsx)(u.a,{color:"primary"}),"private"]})};var we=function(){var e=Object(o.e)(Ne),t=e.initialized,n=e.token,r=Object(o.d)();return Object(a.useEffect)((function(){return r({type:Ae.INITIALIZE,payload:n}),function(){r({type:Ae.STOP_REFRESHING_TOKEN})}}),[r,n]),t?Object(d.jsxs)(l.d,{children:[Object(d.jsx)(l.b,{path:_,component:K}),Object(d.jsx)(l.b,{path:D,component:Se}),Object(d.jsx)(l.a,{to:_})]}):Object(d.jsxs)("div",{children:[Object(d.jsx)(u.a,{color:"primary"}),"pages"]})},Ie=n(158),Re=n(27),_e=n(149),Le=n(154),Me=n(8),De=n.n(Me),Ue=n(5),Pe=n(26),ze=De.a.mark(He),Ke=De.a.mark(Fe);function He(){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),ze)}function Fe(){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ue.e)(He);case 2:case"end":return e.stop()}}),Ke)}var Ge=n(77),Ze=n.n(Ge),Ve="https://healthene-gateway-dev.intelliceed.cf/api",qe=Ze.a.create({baseURL:Ve,withCredentials:!1,headers:{"Cache-Control":"no-cache","Content-Type":"application/json"}}),Be=Ze.a.create({baseURL:Ve,withCredentials:!1,headers:{"Cache-Control":"no-cache","Content-Type":"application/json"}});function Je(){return Be({method:"GET",url:"auth/users/me"})}function We(e){Be.defaults.headers.common.Authorization="Bearer ".concat(e)}Be.interceptors.request.use((function(e){var t=ve(Ee).accessToken;return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return Promise.reject(e)}));var Xe=!1,Ye=[];Be.interceptors.response.use(null,(function(e){var t,n=e.config;if(401===e.response.status){if(!Xe){Xe=!0;var a=ve(Ee).refreshToken;(t={refreshToken:a},qe({method:"POST",url:"auth/token/refresh",data:t})).then((function(e){var t=e.data;Xe=!1,function(e){Ye.map((function(t){return t(e)}))}(t.accessToken),ye(Ee,t),Ye=[]}))}return new Promise((function(e){var t;t=function(t){n.headers.Authorization="Bearer ".concat(t),e(Ze()(n))},Ye.push(t)}))}return Promise.reject(e)}));var $e=De.a.mark(nt),Qe=De.a.mark(at),et=De.a.mark(rt);function tt(e){return qe({method:"POST",url:"auth/token",data:e})}function nt(e){var t,n,a;return De.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.type,t=e.payload,r.prev=1,r.next=4,Object(Ue.f)({type:h.META,payload:{disabled:!0}});case 4:return r.next=6,Object(Ue.a)(tt,t);case 6:return n=r.sent,r.next=9,Object(Ue.a)(ye,Ee,n.data);case 9:return r.next=11,Object(Ue.f)({type:Ae.META,payload:n.data});case 11:return r.next=13,Object(Ue.f)({type:B.VALID_TOKEN,payload:n.data.accessToken});case 13:return r.next=15,Object(Ue.f)({type:Ae.CHECK_ACCESS_TOKEN});case 15:r.next=24;break;case 17:return r.prev=17,r.t0=r.catch(1),a=r.t0.message,r.next=22,Object(Ue.f)({type:Ae.META,payload:{errorMessage:a}});case 22:return r.next=24,Object(Ue.a)(Te,Ee);case 24:return r.next=26,Object(Ue.f)(Object(Pe.d)(D));case 26:return r.next=28,Object(Ue.d)(500);case 28:return r.next=30,Object(Ue.f)({type:h.META,payload:{disabled:!1}});case 30:case"end":return r.stop()}}),$e,null,[[1,17]])}function at(){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ue.i)(h.SIGN_IN,nt);case 2:case"end":return e.stop()}}),Qe)}function rt(){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ue.e)(at);case 2:case"end":return e.stop()}}),et)}var ct=De.a.mark(st);function st(){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ue.e)(Fe);case 2:return e.next=4,Object(Ue.e)(rt);case 4:case"end":return e.stop()}}),ct)}var ot=n(71),it=n(108),ut=n.n(it),lt=De.a.mark(vt),dt=De.a.mark(yt),bt=De.a.mark(Tt),jt=De.a.mark(At),pt=De.a.mark(gt),Ot=De.a.mark(Nt),xt=De.a.mark(kt),ht=De.a.mark(Ct),ft=De.a.mark(St),mt=De.a.mark(wt);function Et(e){var t=e.data,n=e.params;return Be({method:"POST",url:"admin-service/users/filter",data:t||{},params:n})}function vt(e){var t,n,a,r;return De.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return e.type,t=e.payload,c.next=3,Object(Ue.g)(q);case 3:return n=c.sent,a=n.data,c.next=7,a.content.map((function(e){return e.id===t.userId?Object(x.a)(Object(x.a)({},e),{},{checked:!e.checked}):e}));case 7:return r=c.sent,c.next=10,Object(Ue.f)({type:Z.META,payload:{hasAllUsersChecked:!1,data:Object(x.a)(Object(x.a)({},a),{},{content:r})}});case 10:return c.next=12,Object(Ue.a)(gt);case 12:case"end":return c.stop()}}),lt)}function yt(e){var t,n,a,r;return De.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return e.type,e.payload,c.next=3,Object(Ue.g)(q);case 3:return t=c.sent,n=t.data,a=t.hasAllUsersChecked,r=n.content.map((function(e){return Object(x.a)(Object(x.a)({},e),{},{checked:!a})})),c.next=8,Object(Ue.f)({type:Z.META,payload:{hasAllUsersChecked:!a,data:Object(x.a)(Object(x.a)({},n),{},{content:r})}});case 8:return c.next=10,Object(Ue.a)(gt);case 10:case"end":return c.stop()}}),dt)}function Tt(e){var t,n;return De.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Ue.a)(Et,e);case 3:return t=a.sent,n=t.data,a.next=7,Object(Ue.f)({type:Z.META,payload:{data:n}});case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),bt,null,[[0,9]])}function At(e){var t,n,a,r,c,s,o,i;return De.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return e.type,t=e.payload,u.next=3,Object(Ue.g)(q);case 3:return n=u.sent,a=n.page,r=n.size,c=n.name,s=n.roles,o=n.sort,i=Object(x.a)({page:a,size:r,name:c,roles:s,sort:o},t),u.next=12,Object(Ue.a)(Nt,i);case 12:return u.next=14,Object(Ue.f)({type:Z.META,payload:Object(x.a)(Object(x.a)({},i),{},{hasAllUsersChecked:!1})});case 14:case"end":return u.stop()}}),jt)}function gt(){var e,t,n;return De.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Ue.g)(q);case 2:return e=a.sent,t=e.data,a.next=6,!t.content.some((function(e){return e.checked}));case 6:return n=a.sent,a.next=9,Object(Ue.f)({type:Z.META,payload:{isActionsDropdownDisabled:n}});case 9:case"end":return a.stop()}}),pt)}function Nt(e){var t,n,a,r,c,s;return De.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.size,n=e.page,a=e.name,r=e.roles,c=e.sort,s=ut.a.stringify({size:t,page:n,sort:c}),o.next=4,Object(Ue.f)(Object(Pe.e)("?".concat(s)));case 4:return o.next=6,Object(Ue.a)(Tt,{params:{size:t,page:n,sort:c},data:{name:a,roles:r}});case 6:case"end":return o.stop()}}),Ot)}function kt(e){var t,n,a,r;return De.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=["page","size","sort"],c.next=3,Object(Ue.g)(q);case 3:return n=c.sent,c.next=6,Object(Ue.a)(ut.a.parse,e);case 6:return a=c.sent,r=t.reduce((function(e,t){var r=a[t]?a[t]:n[t];return Object(x.a)(Object(x.a)({},e),{},Object(ot.a)({},t,r))}),{}),r=Object(x.a)(Object(x.a)({},r),{},{size:Number(r.size),page:Number(r.page)}),c.abrupt("return",r);case 10:case"end":return c.stop()}}),xt)}function Ct(){var e,t;return De.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e=en.location.search.substr(1))){n.next=11;break}return n.next=4,Object(Ue.a)(kt,e);case 4:return t=n.sent,n.next=7,Object(Ue.a)(At,{payload:t});case 7:return n.next=9,Object(Ue.f)({type:Z.META,payload:t});case 9:n.next=13;break;case 11:return n.next=13,Object(Ue.a)(At,{});case 13:return n.next=15,Object(Ue.f)({type:Z.META,payload:{initialized:!0}});case 15:case"end":return n.stop()}}),ht)}function St(){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ue.j)(Z.UPDATE_FILTERS,At);case 2:return e.next=4,Object(Ue.j)(Z.INITIALIZE,Ct);case 4:return e.next=6,Object(Ue.j)(Z.USER_SELECTED,vt);case 6:return e.next=8,Object(Ue.j)(Z.USERS_SELECTED,yt);case 8:case"end":return e.stop()}}),ft)}function wt(){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ue.e)(St);case 2:case"end":return e.stop()}}),mt)}var It=De.a.mark(Dt),Rt=De.a.mark(Ut),_t=De.a.mark(Pt),Lt=De.a.mark(zt);function Mt(){return Be({method:"POST",url:"auth/logout"})}function Dt(e){var t,n,a,r;return De.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return e.type,e.payload,c.prev=1,c.next=4,Object(Ue.a)(ve,Ee);case 4:return t=c.sent,n=t.accessToken,c.next=8,Object(Ue.a)(We,n);case 8:return c.next=10,Object(Ue.a)(Je,n);case 10:return a=c.sent,c.next=13,Object(Ue.f)({type:Ae.META,payload:{user:a.data}});case 13:return c.next=15,Object(Ue.f)({type:Ae.META,payload:{auth:!0}});case 15:c.next=24;break;case 17:return c.prev=17,c.t0=c.catch(1),r=c.t0.message,c.next=22,Object(Ue.f)({type:Ae.META,payload:{errorMessage:r}});case 22:return c.next=24,Object(Ue.f)(Object(Pe.d)(L));case 24:return c.next=26,Object(Ue.d)(200);case 26:return c.next=28,Object(Ue.f)({type:B.META,payload:{initialized:!0}});case 28:case"end":return c.stop()}}),It,null,[[1,17]])}function Ut(){var e;return De.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Ue.a)(Mt);case 3:return t.next=5,Object(Ue.f)({type:Ae.CLEAR});case 5:return t.next=7,Object(Ue.a)(Te,Ee);case 7:return t.next=9,Object(Ue.f)(Object(Pe.d)(L));case 9:t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(0),e=t.t0.message,t.next=16,Object(Ue.f)({type:Ae.META,payload:{errorMessage:e}});case 16:case"end":return t.stop()}}),Rt,null,[[0,11]])}function Pt(){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ue.i)(B.VALID_TOKEN,Dt);case 2:return e.next=4,Object(Ue.i)(B.LOGOUT,Ut);case 4:case"end":return e.stop()}}),_t)}function zt(){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ue.e)(Pt);case 2:return e.next=4,Object(Ue.e)(wt);case 4:case"end":return e.stop()}}),Lt)}var Kt=De.a.mark(Vt),Ht=De.a.mark(qt),Ft=De.a.mark(Bt),Gt=De.a.mark(Jt),Zt=De.a.mark(Wt);function Vt(e){var t,n,a;return De.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.type,e.payload,r.next=3,Object(Ue.d)(500);case 3:return r.prev=3,r.next=6,Object(Ue.a)(ve,Ee);case 6:return t=r.sent,n=t.accessToken,r.next=10,Object(Ue.a)(Je);case 10:return r.next=12,Object(Ue.f)({type:B.VALID_TOKEN,payload:n});case 12:return r.next=14,Object(Ue.f)({type:Ae.CHECK_ACCESS_TOKEN});case 14:return r.next=16,Object(Ue.f)({type:Ae.META,payload:{auth:!0}});case 16:r.next=25;break;case 18:return r.prev=18,r.t0=r.catch(3),a=r.t0.message,r.next=23,Object(Ue.f)({type:Ae.META,payload:{errorMessage:a}});case 23:return r.next=25,Object(Ue.f)(Object(Pe.d)(L));case 25:return r.next=27,Object(Ue.f)({type:Ae.META,payload:{initialized:!0}});case 27:case"end":return r.stop()}}),Kt,null,[[3,18]])}function qt(){var e;return De.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Ue.d)(1e4);case 3:return t.next=5,Object(Ue.a)(Je);case 5:t.next=14;break;case 7:return t.prev=7,t.t0=t.catch(0),e=t.t0.message,t.next=12,Object(Ue.f)({type:Ae.META,payload:{errorMessage:e}});case 12:return t.next=14,Object(Ue.f)({type:Ae.UPDATE_TOKEN});case 14:return t.prev=14,t.next=17,Object(Ue.c)();case 17:if(!t.sent){t.next=19;break}console.log("checkToken is stopped");case 19:return t.finish(14);case 20:return t.next=22,Object(Ue.f)({type:Ae.CHECK_ACCESS_TOKEN});case 22:case"end":return t.stop()}}),Ht,null,[[0,7,14,20]])}function Bt(){var e;return De.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Ue.e)(qt);case 2:return e=t.sent,t.next=5,Object(Ue.h)(Ae.STOP_REFRESHING_TOKEN);case 5:return t.next=7,Object(Ue.b)(e);case 7:case"end":return t.stop()}}),Ft)}function Jt(){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ue.i)(Ae.INITIALIZE,Vt);case 2:return e.next=4,Object(Ue.i)(Ae.CHECK_ACCESS_TOKEN,Bt);case 4:case"end":return e.stop()}}),Gt)}function Wt(){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ue.e)(st);case 2:return e.next=4,Object(Ue.e)(zt);case 4:return e.next=6,Object(Ue.e)(Jt);case 6:case"end":return e.stop()}}),Zt)}var Xt=De.a.mark(Yt);function Yt(){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ue.e)(Wt);case 2:case"end":return e.stop()}}),Xt)}var $t=n(330);var Qt,en=Object(Re.a)(),tn=Object(Ie.a)(),nn=Object(G.createStore)((Qt=en,Object(G.combineReducers)({root:Ce,form:$t.a,router:Object(i.b)(Qt)})),Object(Le.composeWithDevTools)(Object(G.applyMiddleware)(tn,Object(_e.a)(en))));tn.run(Yt);var an=nn;s.a.render(Object(d.jsx)(o.a,{store:an,children:Object(d.jsx)(i.a,{history:en,children:Object(d.jsx)(we,{})})}),document.getElementById("root"))}},[[315,1,2]]]);
//# sourceMappingURL=main.26f65486.chunk.js.map